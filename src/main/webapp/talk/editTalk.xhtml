<!DOCTYPE html >
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:f="http://java.sun.com/jsf/core" xmlns:h="http://java.sun.com/jsf/html">

<h:head></h:head>
<body>

  <h:form>
    <h:panelGrid columns="2">
      <h:outputLabel value="Title: " for="title" />
      <h:inputText value="#{talkPresenter.currentTalk.title}" id="title" />

      <h:outputLabel value="Type: " for="type" />
      <h:selectOneMenu value="#{talkPresenter.currentTalk.type}" id="type">
        <f:selectItems value="#{talkPresenter.talkTypes}" />
      </h:selectOneMenu>

      <h:outputLabel value="Speakers: " />
      <h:panelGroup>
        <h:dataTable value="#{talkPresenter.currentTalk.speakers}" var="s">
          <h:column>
            <h:outputText value="#{s.lastName}, #{s.firstName}" />
          </h:column>
        </h:dataTable>
        <h:outputText value="none" rendered="#{empty talkPresenter.currentTalk.speakers}" />
        <h:selectOneMenu value="#{talkPresenter.additionalSpeaker}">
          <f:selectItems value="#{talkPresenter.allSpeakers}" var="s" itemLabel="#{s.lastName}, #{s.firstName}" />
        </h:selectOneMenu>
        <h:commandButton action="#{talkPresenter.addSpeaker}" value="add" />
      </h:panelGroup>

    </h:panelGrid>

    <h:commandButton action="#{talkPresenter.saveTalk()}" value="ok" />
  </h:form>
  
  <h:messages />

</body>
</html>
